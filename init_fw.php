<h2 align="center">Framework - Initialisation des paramètres</h2><?phpif (isset($_POST["nom"])) {        write_params($_POST["nom"], $_POST["valeur"]);        echo "<h3 align='center'><font color='green'>Les nouveaux paramètres sont enregistrés.</font><br /><a href='index.php'>Retour</a></h3>";        }$data = read_params();// print_r($data);?><div align="center">    <form name="form_config" method="post" action="init_fw.php">    <input name="action" type="hidden" value="update" />    <table border="1" width="600">     <tr>            <th>Paramètre</th>            <th>Valeur</th>     </tr>    <?php for($i=0;$i<sizeof($data);$i++) { ?>      <tr class="tr-light">          <td width="10%" align="left" nowrap><input name="nom[]" type="text" id="input_nom" value="<?php echo $data[$i]["nom"]; ?>" size="16" /></td>            <td width="89%" align="left" nowrap><input name="valeur[]" type="text" id="input_valeur" value="<?php echo $data[$i]["valeur"]; ?>" size="64" style="width:99%;" /></td>      </tr>    <?php } ?>    </table>    <br />        <div align="center"><INPUT type="submit" value="Enregistrer les modifications"></div>    </form></div><?php// -----------------------// Lecture des param?tres// -----------------------function read_params() {$handle = @fopen("libs/config.inc.php", "r");if ($handle) {   $buffer = fgets($handle, 255); // Saute la premi?re ligne   while (!feof($handle)) {	  $buffer = explode("=", fgets($handle, 255));	  if ($buffer[0] <> "?>")		$params[] = array("nom" => substr(trim($buffer[0]), 9,-2), "valeur" => substr(trim($buffer[1]), 1,-2));		}   fclose($handle);	}else	die("Echec de chargement du fichier de configuration !");return $params;}// -----------------------// Ecriture des param?tres// -----------------------function write_params($nom, $valeur) {$handle = @fopen("libs/config.inc.php", "w");if ($handle) {   fwrite($handle, "<?php\n");   for($i=0; $i<sizeof($nom);$i++) {		if ($nom[$i] <> "") fwrite($handle, "\$config['".$nom[$i]."'] =\"".$valeur[$i]."\";\n");		}   fwrite($handle, "?>");   fclose($handle);   }else	die("Echec de chargement du fichier de configuration !");}?>